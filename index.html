<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Listenings JLPT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    /* --------- RESET SENCILLO --------- */
    *, *::before, *::after {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: #f5f5f5;
      color: #222;
    }
    button {
      font: inherit;
    }

    /* --------- ESTRUCTURA GENERAL --------- */
    .app {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      padding: 0.75rem 1rem;
      background: #ffffff;
      border-bottom: 1px solid #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    header h1 {
      font-size: 1rem;
      font-weight: 600;
      margin: 0;
    }

    header .subtitle {
      font-size: 0.8rem;
      color: #666;
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 0.75rem;
      max-width: 900px;
      margin: 0 auto;
      width: 100%;
    }

    /* --------- PANTALLA INICIO (GRID) --------- */
    #screen-home {
      display: block;
    }
    #screen-question {
      display: none;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    .grid button {
      padding: 0.75rem 0.25rem;
      border-radius: 999px;
      border: 1px solid #ddd;
      background: #fff;
      text-align: center;
      font-size: 0.85rem;
      cursor: pointer;
      transition: transform 0.08s ease, box-shadow 0.08s ease,
        background 0.08s ease;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .grid button:active {
      transform: scale(0.97);
      box-shadow: 0 0 0 1px #ddd;
      background: #f0f0f0;
    }

    /* --------- “TARJETA” DE ESTUDIO --------- */
    .card {
      background: #ffffff;
      border-radius: 1rem;
      padding: 0.75rem;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.03);
      display: flex;
      flex-direction: column;
      min-height: calc(100vh - 3.5rem); /* casi toda la pantalla */
    }

    .card-header {
      margin-bottom: 0.5rem;
    }

    .card-title {
      font-size: 0.8rem;
      font-weight: 400;
      margin-bottom: 0.25rem;
    }

    .card-subtitle {
      font-size: 0.8rem;
      color: #666;
	  display: none;
    }

    .card-body {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      overflow-y: auto;
      padding-bottom: 0.5rem;
    }

    .field-label {
      font-size: 0.75rem;
      font-weight: 600;
      color: #555;
      margin-bottom: 0.15rem;
    }

	/* ---- Enunciados ---- */

	/* Enunciado en japonés: más grande + negrita */
	#q-prompt-ja {
	  font-size: 1.25rem;
	  font-weight: 700;
	  line-height: 1.6;
	  margin-bottom: 0.75rem;
	}

	/* Enunciado en español: más grande + normal */
	#q-prompt-es {
	  font-size: 1.15rem;
	  font-weight: 400;
	  line-height: 1.6;
	  margin-bottom: 1rem;
	}

	/* ---- Transcripciones ---- */

	/* Transcripción en japonés: un poco más pequeña que el enunciado + negrita */
	#q-trans-ja {
	  font-size: 1rem;
	  font-weight: 400;
	  line-height: 1.6;
	  margin-top: 0.5rem;
	  margin-bottom: 0.5rem;
	}

	/* Transcripción en español: un poco más pequeña + normal */
	#q-trans-es {
	  font-size: 1rem;
	  font-weight: 400;
	  line-height: 1.6;
	  margin-bottom: 1rem;
	}

	/* ---- Elimina cajas visuales de los textos ---- */
	.field-box {
	  background: transparent;
	  border: none;
	  padding: 0;
	  white-space: pre-wrap;
	}

    .field-box.ja {
      font-family: "Hiragino Sans", "Yu Gothic", system-ui, sans-serif;
    }

    .audio-box {
		padding: 0;             /* sin margen interno */
		  background: transparent; /* sin fondo */
		  border: none;            /* sin borde */
		  border-radius: 0;        /* sin esquinas */
    }

    .audio-box audio {
      width: 100%;
    }

    .image-box {
      border-radius: 0.5rem;
      overflow: hidden;
      background: #f0f0f0;
      border: 1px solid #e4e4e4;
    }

    .image-box img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* --------- OPCIONES DE RESPUESTA --------- */
    .options {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      margin-top: 0.25rem;
    }

    .option-btn {
      width: 100%;
      padding: 0.6rem 0.5rem;
      border-radius: 999px;
      border: 1px solid #ddd;
      background: #ffffff;
      text-align: left;
      font-size: 0.85rem;
      cursor: pointer;
      transition: background 0.1s ease, border-color 0.1s ease,
        transform 0.08s ease;
    }

    .option-btn span {
      display: inline-block;
      margin-right: 0.4rem;
      font-weight: 600;
      font-size: 0.8rem;
      color: #666;
    }

    .option-btn:active {
      transform: scale(0.98);
    }

    .option-btn.correct {
      background: #e2f7e6;
      border-color: #47b36e;
      color: #16532c;
    }

    .option-btn.incorrect {
      background: #ffe3e3;
      border-color: #e04848;
      color: #7a1c1c;
    }

    .option-btn.disabled {
      opacity: 0.7;
      pointer-events: none;
    }

    /* --------- FOOTER DE NAVEGACIÓN --------- */
    .card-footer {
      margin-top: 0.5rem;
      display: flex;
      gap: 0.5rem;
    }

    .nav-btn {
      flex: 1;
      padding: 0.6rem;
      border-radius: 999px;
      border: none;
      font-size: 0.85rem;
      cursor: pointer;
      transition: background 0.1s ease, transform 0.08s ease;
    }

    .nav-btn:active {
      transform: scale(0.98);
    }

    .nav-btn.back {
      background: #e0e0e0;
      color: #222;
    }

    .nav-btn.next {
      background: #111827;
      color: #f9fafb;
    }
	
	.trans-separator {
	  border: none;
	  border-top: 1px solid #ddd;
	  margin: 0.5rem 0 1rem 0;
	}

    /* --------- UTILIDADES --------- */
    .hidden {
      display: none !important;
    }

    @media (min-width: 768px) {
      .card {
        padding: 1rem;
        border-radius: 1.25rem;
      }
      .card-title {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div>
        <h1>JLPT Listening</h1>
        <div class="subtitle">Práctica de audios</div>
      </div>
      <div id="current-counter" class="subtitle"></div>
    </header>

    <main>
      <!-- PANTALLA DE INICIO -->
      <section id="screen-home">
        <div class="field-label">Selecciona un listening:</div>
        <div id="question-grid" class="grid">
          <!-- Botones generados por JS -->
        </div>
      </section>

      <!-- PANTALLA DE ESTUDIO -->
      <section id="screen-question">
        <div class="card">
          <div class="card-header">
            <div class="card-title" id="q-title">リスニング 001</div>
            <div class="card-subtitle" id="q-subtitle"></div>
          </div>

          <div class="card-body">
            <!-- Enunciado japonés -->
            <div id="block-prompt-ja">
              <div id="q-prompt-ja" class="field-box ja"></div>
            </div>

            <!-- Enunciado español -->
            <div id="block-prompt-es">
              <div id="q-prompt-es" class="field-box"></div>
            </div>

            <!-- Audio -->
            <div id="block-audio" class="audio-box">
              <audio id="q-audio" controls></audio>
            </div>

            <!-- Transcripción japonés -->
            <div id="block-trans-ja">
              <div id="q-trans-ja" class="field-box ja"></div>
            </div>
			
			<hr class="trans-separator">
			
            <!-- Transcripción español -->
            <div id="block-trans-es">
              <div id="q-trans-es" class="field-box"></div>
            </div>

            <!-- Imagen -->
            <div id="block-image" class="image-box">
              <img id="q-image" alt="Imagen del listening" />
            </div>

            <!-- Opciones -->
            <div id="block-options">
              <div class="options">
                <button class="option-btn" id="opt-0"><span>A</span><span class="text"></span></button>
                <button class="option-btn" id="opt-1"><span>B</span><span class="text"></span></button>
                <button class="option-btn" id="opt-2"><span>C</span><span class="text"></span></button>
                <button class="option-btn" id="opt-3"><span>D</span><span class="text"></span></button>
              </div>
            </div>
          </div>

          <!-- Navegación inferior -->
          <div class="card-footer">
            <button class="nav-btn back" id="btn-back-home">Inicio</button>
            <button class="nav-btn next" id="btn-next">Siguiente</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    /* =========================================================
       1) AQUÍ DEFINES TUS PREGUNTAS / LISTENINGS
       ---------------------------------------------------------
       Cada objeto representa un audio/pregunta.

       Campos recomendados:

       - id: número interno (1, 2, 3...)
       - code: cadena que se mostrará en el botón (p.ej. "001")
       - title: título en la pantalla de estudio (p.ej. "リスニング 001")
       - promptJa: enunciado en japonés
       - promptEs: enunciado en español
       - audio: ruta al archivo de audio (o "" si no hay)
       - transcriptJa: transcripción del audio en japonés
       - transcriptEs: transcripción del audio en español
       - image: ruta a la imagen (o "" si no hay)
       - options: array con hasta 4 textos de opciones
       - correctIndex: índice de la opción correcta (0, 1, 2 o 3)
         (asegúrate de que no apunte a una opción vacía)

       Si dejas un campo como "", esa parte no se mostrará.
    ========================================================== */

    const questions = [
      {
        id: 1,
        code: "001",
        title: "リスニング 001",
        promptJa: "問題１では、はじめに質問を聞いてください。それから、話を聞いて、問題用紙の１から４の中から、一番いいものを一つ選んでください。",
        promptEs: "En la pregunta 1, primero escuche la pregunta. Después, escuche la conversación y elija la mejor opción entre 1 y 4 del cuadernillo.",
        audio: "audios/001.mp3",
        transcriptJa:
          "問題１\n問題１では、はじめに質問を聞いてください。\nそれから、話を聞いて、問題用紙の１から４の中から、一番いいものを一つ選んでください。\n\nでは、練習しましょう。\n\n家で女の人が男の人と話しています。\n女の人は男の人に何を出しますか。\n\n「今日は寒いですね。温かいものを飲みませんか。」\n「ありがとうございます。コーヒー、紅茶、あとお茶もありますけど。」\n「じゃあ、紅茶をお願いします。」\n「砂糖やミルクは入れますか。」\n「あ、はい。」\n\n女の人は男の人に何を出しますか。\n\n一番いいものは３番です。\n\n回答用紙の問題１の例のところを見てください。\n一番いいものは３番ですから、答えはこのように書きます。\n\nでは、はじめます。",
        transcriptEs:
          "Pregunta 1\nEn la pregunta 1, primero escuche la pregunta.\nDespués, escuche la conversación y elija la mejor opción entre 1 y 4 del cuadernillo.\n\nBien, hagamos un ejemplo.\n\nEn casa, una mujer está hablando con un hombre.\n¿Qué le ofrece la mujer al hombre?\n\n«Hoy hace frío. ¿Quiere beber algo caliente?»\n«Muchas gracias. Tenemos café, té negro y también té verde.»\n«Entonces, té negro, por favor.»\n«¿Le pongo azúcar o leche?»\n«Ah, sí.»\n\n¿Qué le ofrece la mujer al hombre?\n\nLa mejor respuesta es la opción 3.\n\nMire el ejemplo de la pregunta 1 en la hoja de respuestas.\nComo la mejor opción es la 3, la respuesta se escribe así.\n\nBien, comencemos.",
        image: "img/001.png",
        options: [
          "1",
          "2",
          "3",
          "4"
        ],
        correctIndex: 2
      },
      {
        id: 2,
        code: "002",
        title: "リスニング 002",
        promptJa: "１番",
        promptEs: "Nº 1",
        audio: "audios/002.mp3",
        transcriptJa: "１番\n旅行会社の人が学生に話しています。\n学生ははじめに何をしますか。\n\n「さくら日本語学校のみなさん、ここに来てください。\n今からみんなで写真を撮ります。\n写真を撮ったあとはフリータイムです。\nご飯を食べたり、お寺を見たり、買い物をしたり、好きなことをしてください。\n２時にまたここへ来てください。\nでは、写真を撮りましょう。」\n\n学生ははじめに何をしますか。",
        transcriptEs: "N.º 1\nUna persona de la agencia de viajes está hablando con estudiantes.\n¿Qué hacen los estudiantes primero?\n\n«Estudiantes de la escuela de japonés Sakura, por favor, vengan aquí.\nAhora vamos a tomarnos una foto todos juntos.\nDespués de la foto será tiempo libre.\nPodéis comer, visitar templos, ir de compras… lo que queráis.\nA las 2, volved aquí.\nBien, saquémonos la foto.»\n\nPregunta:\n¿Qué hacen los estudiantes primero?",
        image: "img/002.png",
        options: ["1", "2", "3", "4"],
        correctIndex: 1
      },
      {
        id: 3,
        code: "003",
        title: "リスニング 003",
        promptJa: "２番",
        promptEs: "Nº 2",
        audio: "audios/003.mp3",
        transcriptJa: "２番\nデパートで男の人と店の人が話しています。\n男の人は何階に行きますか。\n\n「あのー、すみません。メガネ売り場はどこですか。」\n「６階でございます。」\n「６階ですね。あ、ここは何階ですか。」\n「２階でございます。」\n「あ、どうも。」\n\n男の人は何階に行きますか。",
        transcriptEs: "N.º 2\nEn unos grandes almacenes, un hombre está hablando con un empleado.\n¿A qué piso va el hombre?\n\n— Disculpe… ¿dónde está la sección de gafas?\n— En la sexta planta.\n— La sexta, ¿verdad? Ah, ¿y este piso cuál es?\n— La segunda planta.\n— Gracias.\n\nPregunta:\n¿A qué piso va el hombre?",
        image: "",
        options: ["2かい", "4かい", "6かい", "8かい"],
        correctIndex: 2
      },
      {
        id: 4,
        code: "004",
        title: "リスニング 004",
        promptJa: "3番",
        promptEs: "Nº 3",
        audio: "audios/004.mp3",
        transcriptJa: "教室で先生が話しています。\n学生は明日どの本を持ってきますか。\n\n「明日から日本語のクラスが始まります。\nこの日本語１は毎日使いますから忘れないでください。\n２は今は使いません。\nそれから明日は火曜日ですから漢字の授業もあります。\n漢字の本も持ってきてください。」\n\n「先生、この本は？」\n「その本は練習に使う本です。家で使ってください。」\n\n学生は明日どの本を持ってきますか。",
        transcriptEs: "En el aula, un profesor está hablando.\n¿Qué libros deben traer los estudiantes mañana?\n\n«Mañana empieza la clase de japonés.\nEste libro Japonés 1 lo usaremos todos los días, así que no lo olviden.\nEl Japonés 2 no lo usaremos por ahora.\nAdemás, mañana es martes, así que tendremos clase de kanji.\nTambién traigan el libro de kanji.»\n\n— Profesor, ¿y este libro?\n— Ese es un libro para practicar. Úsenlo en casa.\n\nPregunta:\n¿Qué libros deben traer los estudiantes mañana?",
        image: "img/004.png",
        options: ["1", "2", "3", "4"],
        correctIndex: 1
      },
      {
        id: 5,
        code: "005",
        title: "リスニング 005",
        promptJa: "４番",
        promptEs: "Nº 4",
        audio: "audios/005.mp3",
        transcriptJa: "４番\n女の人と男の人が話しています。\n男の人は何をしますか。\n\n「この部屋、暑いですね。」\n「そうですね。窓を開けましょうか。」\n「いえ、今日は風が強いですから、\n窓は開けないでください。エアコンをつけましょう。」\n「そうですね。」",
        transcriptEs: "N.º 4\nUna mujer y un hombre están hablando.\n¿Qué hará el hombre?\n\n— Esta habitación está caliente, ¿verdad?\n— Sí. ¿Abro la ventana?\n— No, hoy hace mucho viento, así que no la abra. Encendamos el aire acondicionado.\n— De acuerdo.",
        image: "img/005.png",
        options: ["1", "2", "3", "4"],
        correctIndex: 2
      },
      {
        id: 6,
        code: "006",
        title: "リスニング 006",
        promptJa: "5番",
        promptEs: "Nº 5",
        audio: "audios/003.mp3",
        transcriptJa: "男の学生と女の学生が話しています。\n女の学生はどのカーテンを買いますか。\n\n「明日は何をしますか。」\n「カーテンを買います。」\n「カーテンを？ 小さいカーテンですか。」\n「いえ、大きいカーテンです。\n私の部屋に最初からありましたが、あまり好きなデザインではありませんでした。\n花の絵で。」\n「そうでしたか。どんなカーテンにしますか。」\n「白で、何も書いていないものにします。」\n\n女の学生はどのカーテンを買いますか。",
        transcriptEs: "Un estudiante y una estudiante están conversando.\n¿Qué cortina comprará la estudiante?\n\n— ¿Qué harás mañana?\n— Compraré una cortina.\n— ¿Una cortina? ¿Pequeña?\n— No, grande.\nHabía una en mi habitación desde el principio, pero no me gustaba mucho el diseño.\nEra con dibujos de flores.\n— Ya veo. ¿Qué tipo de cortina comprarás?\n— Blanca, sin nada dibujado.\n\nPregunta:\n¿Qué cortina comprará la estudiante?",
        image: "img/006.png",
        options: ["1", "2", "3", "4"],
        correctIndex: 0
      },
      {
        id: 7,
        code: "007",
        title: "リスニング 007",
        promptJa: "6番",
        promptEs: "Nº 6",
        audio: "audios/007.mp3",
        transcriptJa: "車の後ろで男の人と女の人が話しています。\n男の人はどのカバンを取りますか。\n\n「ハラさんのカバンはどれ。」\n「その白いの。」\n「これ。」\n「その横の。」\n「ああ、これ。結構大きいね。」\n\n男の人はどのカバンを取りますか。",
        transcriptEs: "Un hombre y una mujer están hablando detrás del coche.\n¿Qué bolso recoge el hombre?\n\n— ¿Cuál es tu bolso, Hara?\n— El blanco.\n— ¿Este?\n— El de al lado.\n— Ah, este. Es bastante grande, ¿eh?\n\nPregunta:\n¿Qué bolso coge el hombre?",
        image: "img/007.png",
        options: ["1", "2", "3", "4"],
        correctIndex: 1
      },
      {
        id: 8,
        code: "008",
        title: "リスニング 008",
        promptJa: "7番",
        promptEs: "Nº 7",
        audio: "audios/008.mp3",
        transcriptJa: "７番\n駅で女の人と駅員が話しています。\n女の人は何番ホームの電車に乗りますか。\n\n「すみません、一番ホームの電車は京都に行きますか。」\n「京都ですか。いえ、一番ホームと二番ホームは大阪行きです。\n京都に行くのは三番と四番です。」\n「三番と四番ですね。」\n「あ、でも今日は日曜日ですから、四番ホームの電車は京都には止まりません。」\n「そうですか、わかりました。」\n\n女の人は何番ホームの電車に乗りますか。",
        transcriptEs: "N.º 7\nEn una estación, una mujer está hablando con un empleado.\n¿A qué andén subirá la mujer?\n\n— Disculpe, ¿el tren del andén 1 va a Kioto?\n— ¿A Kioto? No, los andenes 1 y 2 van a Osaka.\nLos que van a Kioto son los andenes 3 y 4.\n— Los andenes 3 y 4, ¿verdad?\n— Ah, pero hoy es domingo, así que el tren del andén 4 no para en Kioto.\n— Entiendo. Gracias.",
        image: "",
        options: ["１ばんホームの　でんしゃ", "２ばんホームの　でんしゃ", "３ばんホームの　でんしゃ", "４ばんホームの　でんしゃ"],
        correctIndex: 2
      },
      {
        id: 9,
        code: "009",
        title: "リスニング 009",
        promptJa: "もんだい２では、はじめに　しつもんを　きいて　ください。\nそれから、はなしを　きいて、もんだいようしの　１から　４の　なかから、いちばん　いい　ものを　ひとつ　えらんで　ください。",
        promptEs: "En la pregunta 2, primero escuche la pregunta.\nDespués, escuche la conversación y elija la mejor opción entre 1 y 4 del cuadernillo.",
        audio: "audios/009.mp3",
        transcriptJa: "問題２では、はじめに質問を聞いてください。\nそれから、話を聞いて、問題用紙の１から４の中から、一番いいものを一つ選んでください。\n\nでは、練習しましょう。\n\n女の学生と男の学生が話しています。\n２人はいつプレゼントを買いに行きますか。\n\n「来週、さくらさんの誕生日プレゼントを買いに行きませんか。」\n「そうですね。５日が誕生日ですから、３日か４日に行きましょう。」\n「あ、ちょっと待ってください。私は３日と４日はアルバイトがあります。２日はだめですか。」\n「いいですよ。じゃあ、授業が終わった後に行きましょう。」\n\n２人はいつプレゼントを買いに行きますか。\n\n一番いいものは１番です。\n\n回答用紙の問題２の例のところを見てください。\n一番いいものは１番ですから、答えはこのように書きます。\n\nでは、始めます。",
        transcriptEs: "En la pregunta 2, primero escuche la pregunta.\nDespués, escuche la conversación y elija la mejor opción entre 1 y 4 del cuadernillo.\n\nVamos a practicar.\n\nUna estudiante y un estudiante están hablando.\n¿Cuándo irán a comprar el regalo?\n\n— ¿La próxima semana vamos a comprar el regalo de cumpleaños de Sakura?\n— Vale. Su cumpleaños es el día 5, así que vayamos el día 3 o el 4.\n— Ah, un momento. El día 3 y el 4 trabajo. ¿No puede ser el día 2?\n— Sí, claro. Entonces vayamos después de clase.\n\n¿Cuando van los dos a comprar el regalo?\n\nLa mejor opción es la n.º 1.\n\nMiren el ejemplo de la pregunta 2 en la hoja de respuestas.\nComo la mejor opción es la n.º 1, la respuesta se escribe así.\n\nBien, comencemos.",
        image: "",
        options: ["ふつか", "みっか", "よっか", "いつか"],
        correctIndex: 0
      },
      {
        id: 10,
        code: "010",
        title: "リスニング 010",
        promptJa: "１番",
        promptEs: "Nº 1",
        audio: "audios/010.mp3",
        transcriptJa: "１番\n郵便局で女の人と郵便局の人が話しています。\n女の人はいくら払いますか。\n\n「８０円の切手を２枚ください。」\n「８０円の切手を２枚ですね。１６０円です。」\n「あ、それから、はがきもください。」\n「何枚ですか。」\n「５枚お願いします。」\n「では、はがきが５枚で２５０円ですから、全部で４１０円です。」\n「じゃあ、これでちょうどです。」\n\n女の人はいくら払いますか。",
        transcriptEs: "N.º 1\nEn una oficina de correos, una mujer está hablando con un empleado.\n¿Cuánto paga la mujer?\n\n— Dos sellos de 80 yenes, por favor.\n— Dos sellos de 80 yenes: son 160 yenes.\n— Ah, y también postales, por favor.\n— ¿Cuántas?\n— Cinco, por favor.\n— Muy bien, cinco postales son 250 yenes. En total son 410 yenes.\n— Aquí tiene, justo.\n\nPregunta:\n¿Cuánto paga la mujer?",
        image: "",
        options: ["80えん", "160えん", "250えん", "410えん"],
        correctIndex: 3
      },
      {
        id: 11,
        code: "011",
        title: "リスニング 011",
        promptJa: "２番",
        promptEs: "Nº 2",
        audio: "audios/011.mp3",
        transcriptJa: "２番\n図書館で男の学生と図書館の人が話しています。\n男の学生は本を何冊借りましたか。\n\n「えーと、借りるのはここでいいですか。」\n「はい。お願いします。」\n「７冊ですね。」\n「あ、すみません。学生の方は５冊までです。」\n「え？そうですか。」\n「ええ。先生は１０冊までですが。」\n「わかりました。じゃあ、この２冊はいいです。」\n\n男の学生は本を何冊借りましたか。",
        transcriptEs: "N.º 2\nEn la biblioteca, un estudiante está hablando con el personal.\n¿Cuántos libros tomó prestados el estudiante?\n\n— Eh… ¿para tomar prestado es aquí?\n— Sí, adelante.\n— Son siete libros.\n— Ah, disculpe. Los estudiantes solo pueden llevarse hasta cinco libros.\n— ¿Ah? ¿De verdad?\n— Sí. Los profesores pueden llevarse hasta diez, pero…\n— Entiendo. Entonces, estas dos no las llevo.\n\nPregunta:\n¿Cuántos libros tomó prestados el estudiante?",
        image: "",
        options: ["2さつ", "5さつ", "7さつ", "10さつ"],
        correctIndex: 1
      },
      {
        id: 12,
        code: "012",
        title: "リスニング 012",
        promptJa: "３番",
        promptEs: "Nº 3",
        audio: "audios/012.mp3",
        transcriptJa: "３番\n女の人と男の人が話しています。\n男の人は大阪まで何で行きましたか。\n\n「お正月はどこかへ行きましたか。」\n「大阪の家へ帰りました。毎年、正月は親と一緒に過ごします。」\n「そうですか。大阪へは何で行きますか。」\n「今回はバスを使いました。いつもは車で行きますが、少し疲れていましたから。」\n「新幹線や飛行機は。」\n「新幹線は便利ですが、ちょっと高くて。飛行機は空港がちょっと遠いですね。」\n「そうですか。」\n\n男の人は大阪まで何で行きましたか。",
        transcriptEs: "N.º 3\nUna mujer y un hombre están hablando.\n¿Cómo fue el hombre hasta Osaka?\n\n— ¿Fuiste a algún sitio por Año Nuevo?\n— Volví a mi casa en Osaka. Cada Año Nuevo lo paso con mis padres.\n— Ya veo. ¿Y cómo vas a Osaka?\n— Esta vez fui en autobús. Normalmente voy en coche, pero estaba un poco cansado.\n— ¿Y en tren bala o avión?\n— El shinkansen es cómodo, pero algo caro. El avión… el aeropuerto está un poco lejos.\n— Entiendo.\n\nPregunta:\n¿Cómo fue el hombre hasta Osaka?",
        image: "",
        options: ["車", "バス", "新幹線", "飛行機"],
        correctIndex: 1
      },
      {
        id: 13,
        code: "013",
        title: "リスニング 013",
        promptJa: "４番",
        promptEs: "Nº 4",
        audio: "audios/013.mp3",
        transcriptJa: "４番\n女の学生と男の学生が話しています。\n女の学生は明日何時ごろ学校へ行きますか。\n\n「明日のテスト早いですね。」\n「そうですね。９時はちょっと早いですね。」\n「田中さんは何時に来ますか。」\n「そうですね。テストの１０分ぐらい前に来ます。」\n「そうですか。私は３０分ぐらい前に来て少し勉強します。」\n「そうですか。」\n\n女の学生は明日何時ごろ学校へ行きますか。",
        transcriptEs: "N.º 4\nUna estudiante y un estudiante están hablando.\n¿A qué hora irá la estudiante a la escuela mañana?\n\n— El examen de mañana es temprano, ¿verdad?\n— Sí, las 9 es un poco temprano.\n— ¿A qué hora vienes tú?\n— Yo llegaré unos 10 minutos antes del examen.\n— Ya veo. Yo llegaré unos 30 minutos antes para estudiar un poco.\n— Entiendo.\n\nPregunta:\n¿A qué hora irá la estudiante a la escuela mañana?",
        image: "",
        options: ["8じ　30ぷん　ごろ", "8じ　40ぷん　ごろ", "8じ　50ぷん　ごろ", "9じ　ごろ"],
        correctIndex: 0
      },
      {
        id: 14,
        code: "014",
        title: "リスニング 014",
        promptJa: "５番",
        promptEs: "Nº 5",
        audio: "audios/014.mp3",
        transcriptJa: "５番\n男の学生と女の学生が話しています。\n２人はいつ映画を観に行きますか。\n\n「今週一緒に映画を観に行きませんか。」\n「今週はちょっと忙しくて…」\n「そうですか… でも、来週は大丈夫ですよ。火曜日か水曜日はどうですか。」\n「そうですか。じゃあ、火曜日がいいです。水曜日はバイトがありますから。」\n「いいですよ。」\n\n２人はいつ映画を観に行きますか。",
        transcriptEs: "N.º 5\nUn estudiante y una estudiante están hablando.\n¿Cuándo irán los dos al cine?\n\n— ¿Vamos juntos al cine esta semana?\n— Esta semana estoy un poco ocupado…\n— Ya veo… Pero la semana que viene sí puedo. ¿Qué tal martes o miércoles?\n— Entiendo. Entonces, el martes está bien. El miércoles tengo trabajo a tiempo parcial.\n— Perfecto.\n\nPregunta:\n¿Cuándo van al cine?",
        image: "",
        options: ["こんしゅうの　かようび", "こんしゅうの　すいようび", "らいしゅうの　かようび", "らいしゅうの　すいようび"],
        correctIndex: 2
      },
      {
        id: 15,
        code: "015",
        title: "リスニング 015",
        promptJa: "６番",
        promptEs: "Nº 6",
        audio: "audios/015.mp3",
        transcriptJa: "６番\n男の人と女の人が話しています。\n女の人は明日どこへ行きますか。\n\n「山田さんは休みの日何をしますか。」\n「そうですね。公園でジョギングしたり、デパートに買い物に行ったりします。」\n「そうですか。明日は何をしますか。」\n「明日は雨ですから、たぶん図書館で本を読みます。」\n「田中さんは。」\n「私は友達と映画を見に行きます。」\n「そうですか。」\n\n女の人は明日どこへ行きますか。",
        transcriptEs: "N.º 6\nUn hombre y una mujer están hablando.\n¿A dónde irá la mujer mañana?\n\n— Yamada, ¿qué haces los días libres?\n— Pues… hago jogging en el parque o voy de compras al centro comercial.\n— Ya veo. ¿Y qué harás mañana?\n— Mañana lloverá, así que probablemente leeré un libro en la biblioteca.\n— ¿Y tú, Tanaka?\n— Yo iré a ver una película con una amiga.\n— Entiendo.\n\nPregunta:\n¿A dónde irá la mujer mañana?",
        image: "",
        options: ["こうえん", "デパート", "としょかん", "えいがかん"],
        correctIndex: 2
      }, 
      {
        id: 16,
        code: "016",
        title: "リスニング 016",
        promptJa: "もんだい３では、えを　みながら　しつもんを　きいて　ください。→（やじるし）の　ひとは　なんと　いいますか。１から３の　なかから、いちばん　いい　ものを　ひとつ　えらんでください。",
        promptEs: "En el ejercicio 3, escuche las preguntas mientras mira las imágenes. ¿Qué dice la persona indicada por la flecha? Elija la opción correcta entre 1 y 3.",
        audio: "audios/016.mp3",
        transcriptJa: "問題３\n問題３では、絵を見ながら質問を聞いてください。\n矢印の人は何と言いますか。\n１から３の中から一番いいものを一つ選んでください。\n\nでは、練習しましょう。\n\n例：ご飯を食べます。何と言いますか。\n１、ごちそうさまでした。\n２、いただきます。\n３、じゃ、また。\n\n一番いいものは２番です。\n\n回答用紙の問題３の例のところを見てください。\n一番いいものは２番ですから、答えはこのように書きます。\n\nでは、始めます。",
        transcriptEs: "Pregunta 3\nEn la pregunta 3, mire la ilustración mientras escucha la pregunta.\n¿Qué dice la persona señalada por la flecha?\nElija la mejor opción entre 1 y 3.\n\nVamos a practicar.\n\nEjemplo: «Va a comer». ¿Qué dice?\n\n1. Gochisōsama deshita (Gracias por la comida ya terminada).\n\n2. Itadakimasu (Expresión al empezar a comer).\n\n3. «Bueno, hasta luego».\n\nLa mejor opción es la número 2.\n\nMire el ejemplo de la pregunta 3 en la hoja de respuestas.\nComo la mejor opción es la 2, la respuesta se escribe así.\n\nBien, empecemos.",
        image: "img/016.png",
        options: ["1", "2", "3", ""],
        correctIndex: 1
      },
      {
        id: 17,
        code: "017",
        title: "リスニング 017",
        promptJa: "1番",
        promptEs: "Nº 1",
        audio: "audios/017.mp3",
        transcriptJa: "1番\n初めて会う人に挨拶をします。\n何と言いますか?\n\n1. 山田です。よろしくお願いします。\n\n2. 山田です。どういたしまして。\n\n3. 山田です。こちらこそ。",
        transcriptEs: "よろしくお願いします。\n→ Se usa al conocer a alguien por primera vez; significa “Encantado/a”, “Mucho gusto”, “Espero que nos llevemos bien”.\n\nどういたしまして。\n→ “De nada”. No tiene sentido al presentarse.\n\nこちらこそ。\n→ “Igualmente”, “Lo mismo digo”.\nSolo se usa después de que la otra persona diga algo a lo que puedas responder “lo mismo para ti”, nunca al iniciar un saludo.",
        image: "img/017.png",
        options: ["1", "2", "3", ""],
        correctIndex: 0
      },
      {
        id: 18,
        code: "018",
        title: "リスニング 018",
        promptJa: "2番",
        promptEs: "Nº 2",
        audio: "audios/018.mp3",
        transcriptJa: "2番\n先生の部屋に入ります。\n何と言いますか?\n\n1. ただいま。\n\n2. 入りました。\n\n3. 失礼します。",
        transcriptEs: "失礼します。\n→ Es la expresión correcta al entrar en una habitación ajena, especialmente la de un profesor, jefe, etc.\nEquivale a: “Con permiso”.\n\nただいま。\n→ Significa “Ya he vuelto” (se usa al llegar a casa).\n\n入りました。\n→ Literalmente “Entré”, pero no se utiliza como saludo o fórmula de cortesía.",
        image: "img/018.png",
        options: ["1", "2", "3", ""],
        correctIndex: 2
      },
      {
        id: 19,
        code: "019",
        title: "リスニング 019",
        promptJa: "3番",
        promptEs: "Nº 3",
        audio: "audios/019.mp3",
        transcriptJa: "3番\n友達にお土産をあげます。\n何と言いますか?\n\n1. これ、私の国のお菓子です。一つもらいます。\n\n2. これ、私の国のお菓子です。一つどうぞ。\n\n3. これ、私の国のお菓子です。一つください。",
        transcriptEs: "Aquí tú le das un recuerdo (お土産) a tu amigo.\nLa expresión correcta al ofrecer algo es:\n\nどうぞ → “Toma”, “Aquí tienes”.\n\nLas otras opciones no encajan:\n\nもらいます → “Lo recibo / Yo tomo”, suena como si tú quisieras recibir el dulce.\n\nください → “Por favor, dame”, también indica que tú quieres algo, no que estás dando.",
        image: "img/019.png",
        options: ["1", "2", "3", ""],
        correctIndex: 1
      },
      {
        id: 20,
        code: "020",
        title: "リスニング 020",
        promptJa: "5番",
        promptEs: "Nº 5",
        audio: "audios/020.mp3",
        transcriptJa: "5番\n食堂で友達と食べています。\n塩が欲しいです。\n何と言いますか?\n\n1. すみません。そこの塩を取ってください。\n\n2. すみません。そこの塩を使いましょうか。\n\n3. すみません。この塩をあげますか。",
        transcriptEs: "そこの塩を取ってください。\n→ “Por favor, pásame la sal.”\nEs exactamente lo que se dice cuando quieres que alguien te alcance la sal.\n\nそこの塩を使いましょうか。\n→ “¿Usamos esa sal?”\nNo expresa que tú quieras que te la pasen.\n\nこの塩をあげますか。\n→ “¿Te doy esta sal?”\nSuena como si tú fueras a ofrecer la sal, lo contrario de lo que necesitas.",
        image: "img/20.png",
        options: ["1", "2", "3", ""],
        correctIndex: 0
      },
      {
        id: 21,
        code: "021",
        title: "リスニング 021",
        promptJa: "もんだい４は、えなどが　ありません。ぶんを　きいて、１から３の　なかから、いちばん　いい　ものを　ひとつ　えらんで　ください。",
        promptEs: "En el ejercicio 4 no hay imágenes. Escuche las frases y elija la opción correcta entre 1 y 3.",
        audio: "audios/021.mp3",
        transcriptJa: "問題４\n問題４では、絵などがありません。\n文を聞いて、１から３の中から一番いいものを一つ選んでください。\n\nでは、練習しましょう。\n\n「コンビニはどこですか。」\n１．買い物です。\n２．あそこです。\n３．こちらこそ。\n\n一番いいものは２番です。\n\n回答用紙の問題４の例のところを見てください。\n一番いいものは２番ですから、答えはこのように書きます。\n\nでは、始めます。",
        transcriptEs: "Pregunta 4\nEn la pregunta 4 no hay ilustraciones.\nEscuche la frase y elija la mejor opción entre 1 y 3.\n\nVamos a practicar.\n\n«¿Dónde está el konbini?»\n\n1. Voy de compras.\n\n2. Está allí.\n\n3. Lo mismo digo.\n\nLa mejor opción es la número 2.\n\nMire el ejemplo de la pregunta 4 en la hoja de respuestas.\nComo la mejor opción es la número 2, la respuesta se escribe así.\n\nBien, empecemos.",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 1
      },
      {
        id: 22,
        code: "022",
        title: "リスニング 022",
        promptJa: "1番",
        promptEs: "Nº 1",
        audio: "audios/022.mp3",
        transcriptJa: "1番\n今何時ですか?\n\n1. 4月です\n\n2. 4日です\n\n3. 4時です",
        transcriptEs: "今何時ですか？ → “¿Qué hora es ahora?”\nLa respuesta debe ser una hora.\n\n1. 4月です → “Es abril.” (mes) \n\n2. 4日です → “Es día 4.” (día del mes) \n\n3. 4時です → “Son las 4.” ",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 2
      },
      {
        id: 23,
        code: "023",
        title: "リスニング 023",
        promptJa: "2番",
        promptEs: "Nº 2",
        audio: "audios/023.mp3",
        transcriptJa: "2番\n田中さんの大学はどこですか?\n\n1. 富士大学です。\n\n2. 東京にあります。\n\n3. 東京駅から近いです。",
        transcriptEs: "La pregunta es:\n\n田中さんの大学はどこですか？\n→ “¿Dónde está la universidad del señor Tanaka?”\n\nPor lo tanto, se espera una localización.\n\n2. 東京にあります。\n→ “Está en Tokio.”\nResponde directamente ‘dónde’.\n\nLas otras opciones son correctas gramaticalmente, pero no responden con claridad a la pregunta:\n\n1. 富士大学です。\n→ “Es la Universidad Fuji.”\n→ Esto responde qué universidad es, no dónde está.\n\n3. 東京駅から近いです。\n→ “Está cerca de la estación de Tokio.”\n→ Es información adicional, pero no es una localización directa.",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 1
      },
      {
        id: 24,
        code: "024",
        title: "リスニング 024",
        promptJa: "3番",
        promptEs: "Nº 3",
        audio: "audios/024.mp3",
        transcriptJa: "3番\n旅行はどうでしたか?\n\n1. 京都でした。\n\n2. 楽しかったです。\n\n3. 3日間でした。",
        transcriptEs: "La pregunta es:\n\n旅行はどうでしたか？\n→ “¿Qué tal fue el viaje?” / “¿Cómo estuvo el viaje?”\n\nSe espera una opinión o valoración.\n\n2. 楽しかったです。\n→ “Fue divertido.” / “Lo pasé bien.”\nEs la respuesta natural a “¿cómo estuvo?”\n\nLas otras opciones NO responden directamente a “どう”:\n\n1. 京都でした。\n→ “Fue en Kioto.” (lugar del viaje)\n\n3. 3日間でした。\n→ “Duró 3 días.” (duración)",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 1
      },
      {
        id: 25,
        code: "025",
        title: "リスニング 025",
        promptJa: "4番",
        promptEs: "Nº 4",
        audio: "audios/025.mp3",
        transcriptJa: "4番\n一緒に昼ご飯を食べませんか?\n\n1. ええ、いいですね。\n\n2. ええ、食べません。\n\n3. いえ、食べます。",
        transcriptEs: "La frase:\n\n一緒に昼ご飯を食べませんか？\n→ “¿Comemos juntos?” (invitación)\n\nPara aceptar, la respuesta natural es:\n\n1. ええ、いいですね。\n→ “Sí, buena idea.”\n\nLas otras opciones no son naturales:\n\n2. ええ、食べません。\n→ “Sí, no como.”  (contradice)\n\n3. いえ、食べます。\n→ “No, como.”  (suena extraño y no responde a la invitación)",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 0
      },
      {
        id: 26,
        code: "026",
        title: "リスニング 026",
        promptJa: "5番",
        promptEs: "Nº 5",
        audio: "audios/026.mp3",
        transcriptJa: "5番\nこの薬はご飯の後に飲んでください。\n\n1. はい、そうしましょう。\n\n2. はい、お願いします。\n\n3. はい、わかりました。",
        transcriptEs: "La frase:\n\nこの薬はご飯の後に飲んでください。\n→ “Tome esta medicina después de comer, por favor.”\n\nLa respuesta natural cuando alguien te da instrucciones es:\n\nはい、わかりました。\n→ “Sí, entendido.” / “De acuerdo.”\n\nLas otras opciones no encajan:\n\n1. はい、そうしましょう。\n→ “Sí, hagámoslo así.”\nSuena extraño porque la instrucción es solo para ti, no para ambos.\n\n2. はい、お願いします。\n→ “Sí, por favor.”\nNo responde a una instrucción; se usa para pedir algo, no para aceptar indicaciones.",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 2
      },
      {
        id: 27,
        code: "027",
        title: "リスニング 027",
        promptJa: "6番",
        promptEs: "Nº 6",
        audio: "audios/027.mp3",
        transcriptJa: "6番\nこの車、どこのですか?\n\n1. 赤いのです。\n\n2. 私のです。\n\n3. 日本のです。\n\nこれで紹介試験を終わります。",
        transcriptEs: "La frase:\n\nこの車、どこのですか？\n→ “¿De dónde es este coche?”\n→ Puede significar “¿De qué país es?” / “¿De qué lugar procede?”\n\nPor eso:\n\n3. 日本のです。\n→ “Es japonés.” / “Es de Japón.”\n Responde exactamente a ‘dónde (どこ)’ en el sentido de procedencia.\n\nLas otras opciones no responden a la pregunta:\n\n1. 赤いのです。\n→ “Es rojo.” (color)  No responde “de dónde”.\n\n2. 私のです。\n→ “Es mío.” (posesión)  No responde “de dónde”.\n\nこれで紹介試験を終わります。\nLa frase final significa: “Con esto, termina el examen de muestra / examen de práctica.”",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 2
      },
      {
        id: 28,
        code: "028",
        title: "リスニング 028",
        promptJa: "1番",
        promptEs: "Nº 1",
        audio: "audios/028.mp3",
        transcriptJa: "デパートで男の人と店の人が話しています。\n男の人はどこへ行きますか。\n\n「あのー、すみません。お手洗いはどこですか。」\n「お手洗いはあちらの階段の横にございます。」\n「カバン売り場の向こうですね。」\n「ええ。」\n「わかりました。どうも。」\n\n男の人はどこへ行きますか。",
        transcriptEs: "En unos grandes almacenes, un hombre está hablando con un empleado.\n¿A dónde va el hombre?\n\n— Disculpe, ¿dónde está el baño?\n— El baño está junto a aquella escalera, por allí.\n— ¿Más allá de la sección de bolsos, verdad?\n— Sí.\n— Entiendo, gracias.\n\nPregunta:\n¿A dónde va el hombre?",
        image: "img/028.png",
        options: ["1", "2", "3", "4"],
        correctIndex: 0
      },
      {
        id: 29,
        code: "029",
        title: "リスニング 029",
        promptJa: "２番",
        promptEs: "Nº 2",
        audio: "audios/029.mp3",
        transcriptJa: "２番\n教室で先生が話しています。\n学生は、はじめにどのページを開けますか。\n\n「今から日本語のテストをします。\nテストは全部で４ページあります。\n１ページは聞く問題です。\n２ページから４ページは書く問題で、\n４ページには漢字の問題もあります。\nはじめに聞く問題をします。\n時間は１０分です。\nでは、問題を開けてください。」\n\n学生は、はじめにどのページを開けますか。",
        transcriptEs: "N.º 2\nEn el aula, un profesor está hablando.\n¿Qué página abren los estudiantes primero?\n\n«Ahora vamos a hacer un examen de japonés.\nEl examen tiene cuatro páginas en total.\nLa página 1 es de preguntas de escucha.\nDe la página 2 a la 4 son preguntas de escritura,\ny en la página 4 también hay preguntas de kanji.\nPrimero haremos las preguntas de escucha.\nEl tiempo es de 10 minutos.\nBien, abrid el examen.»\n\nPregunta:\n¿Qué página abren los estudiantes primero?",
        image: "",
        options: ["1 ページ", "2 ページ", "3 ページ", "4 ページ"],
        correctIndex: 0
      },
      {
        id: 30,
        code: "030",
        title: "リスニング 030",
        promptJa: "３番",
        promptEs: "Nº 3",
        audio: "audios/030.mp3",
        transcriptJa: "３番\n学校で女の学生と男の学生が話しています。\n女の学生はどの先生のところへ行きますか。\n\n「山田さん、この紙は書いた後、どの先生に出しますか。」\n「田中先生ですよ。」\n「田中先生？ 男の先生ですか？ 女の先生ですか。」\n「男の先生です。眼鏡をかけていて、背が高い先生です。」\n「そうですか。じゃあ、後で田中先生のところに持って行きます。」\n\n女の学生はどの先生のところへ行きますか。",
        transcriptEs: "N.º 3\nEn la escuela, una estudiante y un estudiante están hablando.\n¿A qué profesor irá la estudiante?\n\n— Yamada, ¿a qué profesor entrego este papel después de escribirlo?\n— Al profesor Tanaka.\n— ¿El profesor Tanaka? ¿Es hombre o mujer?\n— Es un profesor hombre. Lleva gafas y es alto.\n— Entiendo. Entonces, después se lo llevaré al profesor Tanaka.\n\nPregunta:\n¿A qué profesor va la estudiante?",
        image: "",
        options: ["田中先生", "2", "3", "4"],
        correctIndex: 0
      },
      {
        id: 31,
        code: "031",
        title: "リスニング 031",
        promptJa: "４番",
        promptEs: "Nº 4",
        audio: "audios/031.mp3",
        transcriptJa: "４番\n店で女の人と男の人が話しています。\n男の人はどのハンカチを買いますか。\n\n「山田さんの娘さんの誕生日プレゼント、ハンカチにしませんか。」\n「ああ、いいですね。」\n「このピンクの花のはどうですか。女の子は好きだと思いますよ。」\n「ああ、こっちの果物がいろいろ書いてあるのもかわいいですね。」\n「どっちもいいですね。」\n「あ、これはどうですか。山田さんの家、犬が２匹いますよね。」\n「ええ、ちょうどこれと同じですよ。黒いのと白いのです。」\n「いいですね。これにしましょう。」\n「じゃあ、買ってきますね。」\n\n男の人はどのハンカチを買いますか。",
        transcriptEs: "N.º 4\nEn una tienda, una mujer y un hombre están hablando.\n¿Qué pañuelo compra el hombre?\n\n— ¿Para el cumpleaños de la hija de Yamada, elegimos un pañuelo?\n— Ah, buena idea.\n— ¿Qué te parece este con flores rosas? A las niñas suele gustarles.\n— Ah, este con varias frutas también es mono.\n— Los dos están bien.\n— Ah, ¿y este? En la casa de Yamada tienen dos perros, ¿verdad?\n— Sí, exactamente iguales que estos: uno negro y uno blanco.\n— Qué bien, vamos con ese.\n— Vale, voy a comprarlo.\n\nPregunta:\n¿Qué pañuelo compra el hombre?",
        image: "img/031.png",
        options: ["1", "2", "3", "4"],
        correctIndex: 0
      },
      {
        id: 32,
        code: "032",
        title: "リスニング 032",
        promptJa: "5番",
        promptEs: "Nº 5",
        audio: "audios/032.mp3",
        transcriptJa: "先生と学生が話しています。\n学生は椅子をどう並べますか。\n\n「明日、この教室でスピーチコンテストをしますから、椅子を並べてください。」\n「はい。どう並べますか。」\n「横に６つ、縦に８つ並べてください。」\n「横に６つ、縦に８つですね。わかりました。」\n\n学生は椅子をどう並べますか。",
        transcriptEs: "Un profesor y un estudiante están hablando.\n¿Cómo ordenará el estudiante las sillas?\n\n— Mañana haremos un concurso de discursos en este aula, así que por favor coloca las sillas.\n— Sí. ¿Cómo las pongo?\n— Colócalas 6 en horizontal y 8 en vertical.\n— 6 en horizontal y 8 en vertical. De acuerdo.\n\nPregunta:\n¿Cómo colocará el estudiante las sillas?",
        image: "img/032.png",
        options: ["1", "2", "3", "4"],
        correctIndex: 3
      },
      {
        id: 33,
        code: "033",
        title: "リスニング 033",
        promptJa: "6番",
        promptEs: "Nº 6",
        audio: "audios/033.mp3",
        transcriptJa: "病院で、病院の人と女の人が話しています。\n女の人はどこに座りますか。\n\n「山田さん。」\n「はい。」\n「じゃあ、名前を呼びますから、それまであそこの椅子でちょっと待っていてください。」\n「あの、窓のそばのソファーですか。」\n「ええ、そうです。」\n\n女の人はどこに座りますか。",
        transcriptEs: "En un hospital, un empleado y una mujer están hablando.\n¿Dónde se sienta la mujer?\n\n— Señora Yamada.\n— Sí.\n— Entonces, la llamaremos por su nombre; hasta entonces, por favor espere un momento en aquella silla.\n— ¿En el sofá que está junto a la ventana?\n— Sí, ese.\n\nPregunta:\n¿Dónde se sienta la mujer?",
        image: "img/033.png",
        options: ["1", "2", "3", "4"],
        correctIndex: 0
      },
      {
        id: 34,
        code: "034",
        title: "リスニング 034",
        promptJa: "７番",
        promptEs: "Nº 7",
        audio: "audios/034.mp3",
        transcriptJa: "７番\n学校で男の学生と学校の人が話しています。\n男の学生は何時ごろにもう一度来ますか。\n\n「すみません。山田先生はいますか。」\n「いえ、まだ来ていませんが。」\n「そうですか。何時ごろに来ますか。」\n「もうすぐ来ますよ。１０時から授業がありますから。」\n「そうですか。あの、次の１１時からの授業もありますか。」\n「いえ、午前中はその授業だけですから。またここに戻ってきますよ。」\n「わかりました。じゃあ、授業が終わる頃また来ます。」\n\n男の学生は何時ごろにもう一度来ますか。",
        transcriptEs: "N.º 7\nEn la escuela, un estudiante y un miembro del personal están hablando.\n¿A qué hora regresará el estudiante?\n\n— Disculpe, ¿está el profesor Yamada?\n— No, todavía no ha llegado.\n— Ya veo. ¿A qué hora vendrá?\n— Llegará en breve; tiene clase desde las 10.\n— Entiendo. ¿Tiene también clase desde las 11?\n— No, por la mañana solo tiene esa clase. Luego volverá aquí.\n— Bien, entonces volveré cuando termine esa clase.\n\nPregunta:\n¿A qué hora vuelve el estudiante?",
        image: "",
        options: ["9じ　はん　ごろ", "10じ　ごろ", "11じ　ごろ", "11じ　はん　ごろ"],
        correctIndex: 2
      },
      {
        id: 35,
        code: "035",
        title: "リスニング 035",
        promptJa: "１番",
        promptEs: "Nº 1",
        audio: "audios/035.mp3",
        transcriptJa: "１番\n男の人と女の人が話しています。\n女の人の誕生日はいつですか。\n\n「きれいな花ですね。」\n「ええ、誕生日に友達にもらいました。」\n「へえ、いつですか。」\n「一昨日です。１１日です。」\n「そうですか。え、じゃあ、１が４つ並びますね。」\n「ええ、そうですよ。」\n\n女の人の誕生日はいつですか。",
        transcriptEs: "N.º 1\nUn hombre y una mujer están hablando.\n¿Cuándo es el cumpleaños de la mujer?\n\n— Qué flores tan bonitas.\n— Sí, las recibí de una amiga por mi cumpleaños.\n— Ah, ¿cuándo fue?\n— Anteayer. El día 11.\n— Vaya, entonces tienes cuatro unos seguidos (1111).\n— Sí, así es.\n\nPregunta:\n¿Cuándo es el cumpleaños de la mujer?",
        image: "",
        options: ["1がつ　4か", "4がつ　11にち", "7がつ　4か", "11がつ　11にち"],
        correctIndex: 3
      },
      {
        id: 36,
        code: "036",
        title: "リスニング 036",
        promptJa: "Nº 2",
        promptEs: "２番",
        audio: "audios/036.mp3",
        transcriptJa: "２番\n大学で男の学生と女の学生が話しています。\n２人はどこで食べますか。\n\n「山田さん、お昼一緒に食べませんか。」\n「いいですよ。」\n「じゃあ、学生食堂が新しくなったから、行きませんか。」\n「そうですね。でも、今日は天気がいいから、外で食べたいです。朝からずっと教室の中にいましたから。」\n「じゃあ、お店でパンかお弁当を買って、桜公園まで行きましょうか。」\n「ええ、そうしましょう。」\n\n２人はどこで食べますか。",
        transcriptEs: "N.º 2\nEn la universidad, un estudiante y una estudiante están hablando.\n¿Dónde comerán los dos?\n\n— Yamada, ¿comemos juntos?\n— Sí, claro.\n— Entonces, como el comedor de estudiantes es nuevo, ¿vamos?\n— Sí, pero hoy hace buen tiempo, así que quiero comer fuera. Hemos estado en el aula desde esta mañana.\n— Entonces, ¿compramos pan o un bento en una tienda y vamos al Parque de los Cerezos?\n— Sí, hagámoslo.\n\nPregunta:\n¿Dónde comerán los dos?",
        image: "",
        options: ["しょくどう", "みせ", "きょうしつ", "こうえん"],
        correctIndex: 3
      },
      {
        id: 37,
        code: "037",
        title: "リスニング 037",
        promptJa: "Nº 3",
        promptEs: "３番",
        audio: "audios/037.mp3",
        transcriptJa: "３番\nレストランで女の人と店の人が話しています。\n女の人は何を食べますか。\n\n「すみません、これは鶏肉ですか。」\n「いえ、こちらは豚肉でございます。」\n「そうですか、これは。」\n「こちらは魚です。」\n「そうですか、あの、鶏肉の料理はありませんか。」\n「はい、こちらです。」\n「じゃあ、これをお願いします。」\n\n女の人は何を食べますか。",
        transcriptEs: "N.º 3\nEn un restaurante, una mujer y un empleado están hablando.\n¿Qué va a comer la mujer?\n\n— Disculpe, ¿esto es pollo?\n— No, esto es cerdo.\n— Ya veo, ¿y esto?\n— Esto es pescado.\n— Ya veo… ¿no tiene algún plato de pollo?\n— Sí, aquí está.\n— Entonces, este por favor.\n\nPregunta:\n¿Qué va a comer la mujer?",
        image: "1",
        options: ["ぶたにくの　りょうり", "とりにくの　りょうり", "ぎゅうにくの　りょうり", "さかなの　りょうり"],
        correctIndex: 1
      },
      {
        id: 38,
        code: "038",
        title: "リスニング 038",
        promptJa: "４番",
        promptEs: "Nº 4",
        audio: "audios/038.mp3",
        transcriptJa: "４番\n大学で男の学生と女の学生が話しています。\n明日のパーティーに先生は何人来ますか。\n\n「明日のクラスのパーティーには全部で何人くらい来ますか。」\n「えっと、来ない人が３人いますから、全部で２４人です。」\n「そうですか。先生たちも来ますか。」\n「ええ。山田先生と田中先生が来ます。」\n「川島先生は。」\n「川島先生は来ないと言っていました。」\n「そうですか。」\n\n明日のパーティーに先生は何人来ますか。",
        transcriptEs: "N.º 4\nEn la universidad, un estudiante y una estudiante están hablando.\n¿Cuántos profesores irán a la fiesta de mañana?\n\n— ¿Cuántas personas aproximadamente irán a la fiesta de clase de mañana?\n— Pues, como hay 3 personas que no vienen, serán 24 en total.\n— Ya veo. ¿También vienen los profesores?\n— Sí. El profesor Yamada y el profesor Tanaka vienen.\n— ¿Y el profesor Kawashima?\n— El profesor Kawashima dijo que no vendrá.\n— Entiendo.\n\nPregunta:\n¿Cuántos profesores van a venir a la fiesta de mañana?",
        image: "",
        options: ["ひとり", "ふたり", "さんにん", "よにん"],
        correctIndex: 1
      },
      {
        id: 39,
        code: "039",
        title: "リスニング 039",
        promptJa: "５番",
        promptEs: "Nº 5",
        audio: "audios/039.mp3",
        transcriptJa: "５番\n男の人と女の人が話しています。\n明日の午後、女の人はどこへ行きますか。\n\n「明日の午後、一緒に映画を観に行きませんか。」\n「すみません、明日はちょっと…」\n「忙しいですか。」\n「ええ、午前は病院へ行ったり、荷物を出しに郵便局へ行ったりします。\n午後は山田先生の授業のレポートを書きます。月曜日に出しますから。」\n「ええ、そのレポート、出すのは金曜日までですよ。」\n「本当ですか。じゃあ、私も映画を観に行きたいです。」\n「じゃあ、行きましょう。」\n\n明日の午後、女の人はどこへ行きますか。",
        transcriptEs: "N.º 5\nUn hombre y una mujer están hablando.\n¿A dónde irá la mujer mañana por la tarde?\n\n— ¿Vamos al cine mañana por la tarde?\n— Lo siento, mañana…\n— ¿Estás ocupada?\n— Sí, por la mañana voy al hospital y también a enviar un paquete en correos.\nPor la tarde iba a escribir un informe para la clase del profesor Yamada, porque lo entrego el lunes.\n— Ah, ese informe se entrega hasta el viernes.\n— ¿En serio? ¡Entonces quiero ir al cine también!\n— Perfecto, vamos.\n\nPregunta:\n¿A dónde va la mujer mañana por la tarde?",
        image: "",
        options: ["えいがかん", "びょういん", "ゆうびんきょく", "としょかん"],
        correctIndex: 0
      },
      {
        id: 40,
        code: "040",
        title: "リスニング 040",
        promptJa: "６番",
        promptEs: "Nº 6",
        audio: "audios/040.mp3",
        transcriptJa: "６番\nパーティーで男の人と女の人が話しています。\n女の人は何を飲みますか。\n\n「あ、山田さん、飲み物がありませんね。何を飲みますか。\nビールとワイン、あとジュースとお茶がありますけど。」\n「あの、コーヒーはありませんか。」\n「うーん、コーヒーはありませんね。」\n「そうですか、温かいものはありませんか。」\n「あ、温かいお茶はできますよ。」\n「そうですか、じゃあそれをお願いします。」\n\n女の人は何を飲みますか。",
        transcriptEs: "N.º 6\nEn una fiesta, un hombre y una mujer están hablando.\n¿Qué va a beber la mujer?\n\n— Ah, Yamada, no tienes bebida. ¿Qué quieres tomar?\nHay cerveza, vino, además hay zumo y té.\n— ¿No tiene café?\n— Hmm, no, café no tenemos.\n— Ya veo… ¿No hay algo caliente?\n— Ah, puedo prepararte té caliente.\n— Entiendo, entonces eso, por favor.\n\nPregunta:\n¿Qué beberá la mujer?",
        image: "",
        options: ["ジュース", "コーヒー", "おちゃ", "こうちゃ"],
        correctIndex: 2
      },
      {
        id: 41,
        code: "041",
        title: "リスニング 041",
        promptJa: "1番",
        promptEs: "Nº 1",
        audio: "audios/041.mp3",
        transcriptJa: "1番\n寝ます。他の人に何と言いますか。\n\n1. おつかれさま\n\n\n2. おやすみなさい\n\n\n3. また明日",
        transcriptEs: "おやすみなさい → “Buenas noches / que descanses.”\nEs lo que se dice antes de irse a dormir.\n\nおつかれさま → “Buen trabajo / gracias por tu esfuerzo.”\nNo tiene relación con irse a dormir.\n\nまた明日 → “Hasta mañana.”\nPodría decirse, pero no es lo que se dice al irse a dormir.",
        image: "img/041.png",
        options: ["1", "2", "3", ""],
        correctIndex: 1
      },
      {
        id: 42,
        code: "042",
        title: "リスニング 042",
        promptJa: "2番",
        promptEs: "Nº 2",
        audio: "audios/042.mp3",
        transcriptJa: "2番\n学校へ出かけます。家族に何と言いますか。\n\n1. 失礼します。\n\n\n2. 今行きます。\n\n\n3. 行ってきます。\n",
        transcriptEs: "Cuando sales de casa, especialmente para ir a la escuela o al trabajo, dices:\n\n行ってきます → “Me voy (y vuelvo luego).”\n\n\nLas otras dos no encajan:\n\n失礼します → Se usa al entrar o salir de un despacho/clase, en situaciones formales.\n\n今行きます → “Voy ahora (hacia ti).” Se usa cuando alguien te llama, no al salir de casa.",
        image: "img/042.png",
        options: ["1", "2", "3", ""],
        correctIndex: 2
      },
      {
        id: 43,
        code: "043",
        title: "リスニング 043",
        promptJa: "3番",
        promptEs: "Nº 3",
        audio: "audios/043.mp3",
        transcriptJa: "電車に乗ります。\n東京まで何分で行くか聞きたいです。\n何と言いますか?\n\n1. どのぐらいかかりますか?\n\n\n2. いくらですか?\n\n\n3. 今何時ですか?",
        transcriptEs: "Quieres preguntar cuántos minutos se tarda en llegar:\n\nどのぐらいかかりますか。\n→ “¿Cuánto tarda?” / “¿Cuánto se demora?”\nEs la pregunta perfecta para saber el tiempo de viaje.\n\n\nLas otras opciones no sirven:\n\n2. いくらですか。 → “¿Cuánto cuesta?” (precio)\n\n3. 今何時ですか。 → “¿Qué hora es?” (hora actual)",
        image: "img/043.png",
        options: ["1", "2", "3", ""],
        correctIndex: 0
      },
      {
        id: 44,
        code: "044",
        title: "リスニング 044",
        promptJa: "４番",
        promptEs: "Nº 4",
        audio: "audios/044.mp3",
        transcriptJa: "４番\nタクシーの中です。\nどこへ行きたいか言います。\n何と言いますか?\n\n1. 四角の駅までお願いします。\n\n\n2. 四角の駅まで行きます。\n\n\n3. 四角の駅まで来てください。\n\n\n\n(四角の駅 = un ejemplo de nombre de estación, como “Shikaku Station”)",
        transcriptEs: "Cuando estás dentro del taxi y dices adónde quieres ir, la frase natural es:\n\n四角の駅までお願いします。\n→ “Hasta la estación Shikaku, por favor.”\n\n\nLas otras opciones no son naturales en un taxi:\n\n四角の駅まで行きます。\n→ “Voy hasta la estación Shikaku.”\nSe usa para hablar de tus planes, no para pedir al conductor.\n\n四角の駅まで来てください。\n→ “Por favor, venga hasta la estación Shikaku.”\nEsto sería para pedir un taxi que venga A la estación, no para ir tú.",
        image: "img/044.png",
        options: ["1", "2", "3", ""],
        correctIndex: 0
      },
      {
        id: 45,
        code: "045",
        title: "リスニング 045",
        promptJa: "５番",
        promptEs: "Nº 5",
        audio: "audios/045.mp3",
        transcriptJa: "５番\n喫茶店にいます。\nコーヒーを飲みたいです。\n何と言いますか?\n\n1. コーヒーをお願いします\n\n\n2. コーヒーを取ってください\n\n\n3. コーヒーがあります",
        transcriptEs: "Para pedir un café en una cafetería, la frase natural es:\n\nコーヒーをお願いします。\n→ “Un café, por favor.”\n\n\nLas otras opciones no encajan:\n\n2. コーヒーを取ってください。\n→ “Pásame el café.”\nSe usa cuando alguien tiene el objeto cerca, no para pedirlo en un local.\n\n3. コーヒーがあります。\n→ “Tengo café.” / “Hay café.”\nNo sirve para pedirlo.",
        image: "img/045.png",
        options: ["1", "2", "3", ""],
        correctIndex: 0
      },
      {
        id: 46,
        code: "046",
        title: "リスニング 046",
        promptJa: "1番",
        promptEs: "Nº 1",
        audio: "audios/046.mp3",
        transcriptJa: "1番\nあの方はどなたですか?\n\n1. とても親切な人です。\n\n\n2. いいえ、違います。\n\n\n3. 山田先生です。",
        transcriptEs: "La pregunta:\n\nあの方はどなたですか？\n→ “¿Quién es esa persona?” (forma respetuosa)\n\nLa respuesta natural debe identificar quién es:\n\n3. 山田先生です。\n→ “Es el profesor Yamada.”\nResponde directamente “quién”.\n\n\nLas otras opciones no responden correctamente:\n\n1. とても親切な人です。\n→ “Es una persona muy amable.”\nDescribe, pero no dice quién es.\n\n2. いいえ、違います。\n→ “No, no lo es.”\nNo responde a la pregunta.",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 2
      },
      {
        id: 47,
        code: "047",
        title: "リスニング 047",
        promptJa: "2番",
        promptEs: "Nº 2",
        audio: "audios/047.mp3",
        transcriptJa: "2番\nお父さんはおいくつですか?\n\n1. ええ、そうです。\n\n\n2. ごじゅうまいです。\n\n\n3. ごじゅうさいです。",
        transcriptEs: "La pregunta:\n\nお父さんはおいくつですか？\n→ “¿Cuántos años tiene tu padre?”\n(forma respetuosa de preguntar la edad)\n\nLa respuesta adecuada debe dar años:\n\n3. ごじゅうさいです。\n→ “Tiene 50 años.”\nEs la respuesta correcta.\n\n\nLas otras opciones son incorrectas:\n\n1. ええ、そうです。\n→ “Sí, así es.”\nNo responde a la edad.\n\n2. ごじゅうまいです。\n→ “50 objetos planos.”\n「まい」 es el contador de hojas/papeles, completamente incorrecto.",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 2
      },
      {
        id: 48,
        code: "048",
        title: "リスニング 048",
        promptJa: "3番",
        promptEs: "Nº 3",
        audio: "audios/048.mp3",
        transcriptJa: "3番\n日本料理は何が好きですか?\n\n1. 美味しいです。\n\n\n2. 天ぷらが好きです。\n\n\n3. 時々食べます。",
        transcriptEs: "La pregunta:\n\n日本料理は何が好きですか？\n→ “¿Qué comida japonesa te gusta?”\n\nLa respuesta debe mencionar un plato concreto:\n\n2. 天ぷらが好きです。\n→ “Me gusta la tempura.”\nEs la respuesta perfecta.\n\n\nLas otras no responden directamente:\n\n1. 美味しいです。\n→ “Está rico.”\nNo responde qué comida japonesa te gusta.\n\n3. 時々食べます。\n→ “Lo como a veces.”\nNo responde a la pregunta de gustos.",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 1
      },
      {
        id: 49,
        code: "049",
        title: "リスニング 049",
        promptJa: "4番",
        promptEs: "Nº 4",
        audio: "audios/049.mp3",
        transcriptJa: "4番\n窓を開けましょうか。\n\n1. ええ、お願いします。\n\n\n2. ええ、開けますね。\n\n\n3. いいえ、開けてください。",
        transcriptEs: "La frase:\n\n窓を開けましょうか。\n→ “¿Quiere que abra la ventana?” / “¿La abro?”\n\nLa respuesta natural cuando aceptas la oferta es:\n\n1. ええ、お願いします。\n→ “Sí, por favor (hágalo).”\n\n\nLas otras opciones no encajan:\n\n2. ええ、開けますね。\n→ “Sí, la abriré yo.”\nNo es natural porque la otra persona es quien se ha ofrecido.\n\n3. いいえ、開けてください。\n→ “No, ábrala.”\nContradice el “いいえ” y suena inconsistente.",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 0
      },
      {
        id: 50,
        code: "050",
        title: "リスニング 050",
        promptJa: "5番",
        promptEs: "Nº 5",
        audio: "audios/050.mp3",
        transcriptJa: "5番\nすみません、オレンジジュースをお願いします。\n\n1. 結構です。\n\n\n2. かしこまりました。\n\n\n3. はい、おいしいです。",
        transcriptEs: "La frase:\n\n「すみません、オレンジジュースをお願いします。」\n→ Es un cliente pidiendo un zumo de naranja.\n\nLa respuesta natural del personal del local es:\n\n2. かしこまりました。\n→ “Muy bien / Enseguida / Claro.”\nEs la respuesta correcta de un camarero o dependiente.\n\n\nLas otras opciones no encajan:\n\n1. 結構です。\n→ “No, gracias.”\nEsto lo diría el cliente, no el trabajador.\n\n3. はい、おいしいです。\n→ “Sí, está rico.”\nNo responde a un pedido; es absurda en contexto.",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 1
      },
      {
        id: 51,
        code: "051",
        title: "リスニング 051",
        promptJa: "6番",
        promptEs: "Nº 6",
        audio: "audios/051.mp3",
        transcriptJa: "6番\n会社まで何で行きますか?\n\n1. とても遠いです。\n\n\n2. バスで行きます。\n\n\n3. 9時に行きます。",
        transcriptEs: "La pregunta:\n\n会社まで何で行きますか？\n→ “¿Cómo vas a la empresa?”\n→ Se pregunta medio de transporte.\n\nPor eso:\n\n2. バスで行きます。\n→ “Voy en autobús.”\nResponde exactamente a “何で” (= en qué medio).\n\n\nLas otras opciones son incorrectas:\n\n1. とても遠いです。 → “Está muy lejos.” No responde cómo.\n\n3. 9時に行きます。 → “Voy a las 9.” Responde a cuándo, no cómo.",
        image: "",
        options: ["1", "2", "3", ""],
        correctIndex: 1
      },

      // ↓↓↓ A partir de aquí vas añadiendo tus ~250 preguntas ↓↓↓
      /*
      {
        id: ,
        code: "0",
        title: "リスニング 0",
        promptJa: "",
        promptEs: "",
        audio: "audios/0.mp3",
        transcriptJa: "",
        transcriptEs: "",
        image: "",
        options: ["", "", "", ""],
        correctIndex: 0
      },
      */
    ];

    /* =========================================================
       2) LÓGICA DE LA APLICACIÓN
    ========================================================== */

    let currentIndex = 0; // índice dentro del array 'questions'

    const screenHome = document.getElementById("screen-home");
    const screenQuestion = document.getElementById("screen-question");
    const grid = document.getElementById("question-grid");
    const currentCounter = document.getElementById("current-counter");

    // Elementos de la pantalla de estudio
    const qTitle = document.getElementById("q-title");
    const qSubtitle = document.getElementById("q-subtitle");

    const blockPromptJa = document.getElementById("block-prompt-ja");
    const blockPromptEs = document.getElementById("block-prompt-es");
    const blockAudio = document.getElementById("block-audio");
    const blockTransJa = document.getElementById("block-trans-ja");
    const blockTransEs = document.getElementById("block-trans-es");
    const blockImage = document.getElementById("block-image");
    const blockOptions = document.getElementById("block-options");

    const qPromptJa = document.getElementById("q-prompt-ja");
    const qPromptEs = document.getElementById("q-prompt-es");
    const qAudio = document.getElementById("q-audio");
    const qTransJa = document.getElementById("q-trans-ja");
    const qTransEs = document.getElementById("q-trans-es");
    const qImage = document.getElementById("q-image");
	
	const cardBody = document.querySelector(".card-body"); /*ESTO TAMBIÉN LO AÑADÍ PARA EL SCROLL-UP*/

    const optionButtons = [
      document.getElementById("opt-0"),
      document.getElementById("opt-1"),
      document.getElementById("opt-2"),
      document.getElementById("opt-3")
    ];

    const btnBackHome = document.getElementById("btn-back-home");
    const btnNext = document.getElementById("btn-next");

    // Crear la rejilla de botones en la pantalla de inicio
    function renderGrid() {
      grid.innerHTML = "";
      questions.forEach((q, index) => {
        const btn = document.createElement("button");
        btn.textContent = q.code || `Q${index + 1}`;
        btn.addEventListener("click", () => {
          openQuestion(index);
        });
        grid.appendChild(btn);
      });
    }

    // Mostrar pantalla de inicio
    function showHome() {
      screenHome.style.display = "block";
      screenQuestion.style.display = "none";
      currentCounter.textContent = "";
    }

    // Mostrar pantalla de pregunta
    function showQuestionScreen() {
      screenHome.style.display = "none";
      screenQuestion.style.display = "block";
    }

    // Cargar una pregunta concreta
    function openQuestion(index) {
      currentIndex = index;
      const q = questions[index];

      showQuestionScreen();
      updateCounter();
	  
	  /*ESTO ES LO QUE AÑADÍ PARA EL SCROLL-UP*/
	  if (cardBody) {
	      cardBody.scrollTop = 0;
	    }
		window.scrollTo(0, 0);
		/*HASTA AQUÍ*/
	  
      qTitle.textContent = q.title || `Listen ${q.code || index + 1}`;
      qSubtitle.textContent = q.code ? `ID: ${q.code}` : "";

      // Enunciados
      if (q.promptJa && q.promptJa.trim() !== "") {
        blockPromptJa.classList.remove("hidden");
        qPromptJa.textContent = q.promptJa;
      } else {
        blockPromptJa.classList.add("hidden");
      }

      if (q.promptEs && q.promptEs.trim() !== "") {
        blockPromptEs.classList.remove("hidden");
        qPromptEs.textContent = q.promptEs;
      } else {
        blockPromptEs.classList.add("hidden");
      }

      // Audio
      if (q.audio && q.audio.trim() !== "") {
        blockAudio.classList.remove("hidden");
        qAudio.src = q.audio;
      } else {
        blockAudio.classList.add("hidden");
        qAudio.removeAttribute("src");
      }

      // Transcripciones
      if (q.transcriptJa && q.transcriptJa.trim() !== "") {
        blockTransJa.classList.remove("hidden");
        qTransJa.textContent = q.transcriptJa;
      } else {
        blockTransJa.classList.add("hidden");
        qTransJa.textContent = "";
      }

      if (q.transcriptEs && q.transcriptEs.trim() !== "") {
        blockTransEs.classList.remove("hidden");
        qTransEs.textContent = q.transcriptEs;
      } else {
        blockTransEs.classList.add("hidden");
        qTransEs.textContent = "";
      }

      // Imagen
      if (q.image && q.image.trim() !== "") {
        blockImage.classList.remove("hidden");
        qImage.src = q.image;
      } else {
        blockImage.classList.add("hidden");
        qImage.removeAttribute("src");
      }

      // Opciones
      const opts = q.options || [];
      let visibleCount = 0;
      for (let i = 0; i < optionButtons.length; i++) {
        const btn = optionButtons[i];
        const textSpan = btn.querySelector(".text");
        const text = opts[i] || "";

        if (text.trim() !== "") {
          btn.classList.remove("hidden");
          btn.classList.remove("correct", "incorrect", "disabled");
          textSpan.textContent = text;
          visibleCount++;
        } else {
          btn.classList.add("hidden");
          btn.classList.remove("correct", "incorrect", "disabled");
          textSpan.textContent = "";
        }

        // Actualizamos el “prefijo” A/B/C/D:
        const labelSpan = btn.querySelector("span:first-child");
        const labels = ["A", "B", "C", "D"];
        labelSpan.textContent = labels[i] || "";
      }

      if (visibleCount === 0) {
        blockOptions.classList.add("hidden");
      } else {
        blockOptions.classList.remove("hidden");
      }

      // Guardamos el índice correcto en un atributo de datos
      blockOptions.dataset.correctIndex = q.correctIndex;

      // Reactivamos eventos de respuesta
      enableOptions();
    }

    function updateCounter() {
      currentCounter.textContent = `${currentIndex + 1} / ${questions.length}`;
    }

    function enableOptions() {
      optionButtons.forEach((btn, i) => {
        btn.classList.remove("disabled", "correct", "incorrect");
        // Quitamos cualquier listener previo para evitar duplicados
        btn.replaceWith(btn.cloneNode(true));
        optionButtons[i] = document.getElementById(`opt-${i}`);
      });

      // Volvemos a añadir los listeners
      optionButtons.forEach((btn, i) => {
        btn.addEventListener("click", () => handleOptionClick(i));
      });
    }

    function disableOptions() {
      optionButtons.forEach((btn) => {
        btn.classList.add("disabled");
      });
    }

    function handleOptionClick(index) {
      const correctIndex = parseInt(blockOptions.dataset.correctIndex, 10);

      optionButtons.forEach((btn, i) => {
        btn.classList.remove("correct", "incorrect");
      });

      if (index === correctIndex) {
        optionButtons[index].classList.add("correct");
      } else {
        optionButtons[index].classList.add("incorrect");
        if (correctIndex >= 0 && correctIndex < optionButtons.length) {
          optionButtons[correctIndex].classList.add("correct");
        }
      }

      disableOptions();
    }

    // Botones de navegación inferior
    btnBackHome.addEventListener("click", () => {
      showHome();
    });

    btnNext.addEventListener("click", () => {
      const nextIndex =
        currentIndex + 1 < questions.length ? currentIndex + 1 : 0;
      openQuestion(nextIndex);
    });

    // Inicialización
    renderGrid();
    showHome();
  </script>
</body>
</html>
